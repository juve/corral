<?xml version="1.0" encoding="UTF-8"?>
<jndiConfig xmlns="http://wsrf.globus.org/jndi/config">

	<global>
		<resource name="glidein/Database" type="edu.usc.glidein.service.db.mysql.MySQLDatabase">
            <resourceParams>
                <parameter>
                    <name>factory</name>
                    <value>org.globus.wsrf.jndi.BeanFactory</value>
                </parameter>
                <parameter>
                	<!-- The MySQL Database URL -->
                    <name>url</name>
                    <value>jdbc:mysql://localhost:3306/glidein</value>
                </parameter>
                <parameter>
                	<!-- The MySQL Databse user -->
                	<name>user</name>
                	<value>juve</value>
                </parameter>
                <parameter>
                	<!-- The MySQL User's Password -->
                	<name>password</name>
                	<value>Mini14</value>
                </parameter>
            </resourceParams>
        </resource>
        <resource name="glidein/Condor" type="edu.usc.glidein.service.exec.Condor">
            <resourceParams>
                <parameter>
                    <name>factory</name>
                    <value>org.globus.wsrf.jndi.BeanFactory</value>
                </parameter>
                <parameter>
                	<!-- Path to where condor is installed -->
                    <name>condorHome</name>
                    <value>/opt/condor/7.0.0</value>
                </parameter>
                <parameter>
                	<!-- Path to the condor configuration file -->
                	<name>condorConfig</name>
                	<value>/etc/condor/condor_config</value>
                </parameter>
            </resourceParams>
        </resource>
        <resource name="glidein/ServiceConfiguration" type="edu.usc.glidein.service.ServiceConfiguration">
            <resourceParams>
                <parameter>
                    <name>factory</name>
                    <value>org.globus.wsrf.jndi.BeanFactory</value>
                </parameter>
                <parameter>
                	<!-- Path to the glidein installation shell script -->
                    <name>install</name>
                    <value>share/glidein_service/glidein_install</value>
                </parameter>
                <parameter>
                	<!-- Path to the glidein uninstallation shell script -->
                	<name>uninstall</name>
                	<value>share/glidein_service/glidein_uninstall</value>
                </parameter>
                <parameter>
                	<!-- Path to the glidein run shell script -->
                	<name>run</name>
                	<value>share/glidein_service/glidein_run</value>
                </parameter>
                <parameter>
                	<!-- List of urls to retrieve glidein binaries from -->
                	<name>glideinServerURLs</name>
                	<value>http://scecit02.usc.edu/glidein/binaries,http://www.cs.wisc.edu/condor/glidein/binaries,gsiftp://gridftp.cs.wisc.edu/p/condor/public/binaries/glidein</value>
                </parameter>
                <parameter>
                	<!-- Default configuration file for glideins -->
                	<name>glideinCondorConfig</name>
                	<value>etc/glidein_service/glidein_condor_config</value>
                </parameter>
                <parameter>
                	<!-- Temporary directory (default: /tmp) -->
                	<name>tempDir</name>
                	<value>tmp/glidein_service</value>
                </parameter>
            </resourceParams>
        </resource>
        <resource name="glidein/EventQueue" type="edu.usc.glidein.service.state.EventQueue">
            <resourceParams>
                <parameter>
                    <name>factory</name>
                    <value>org.globus.wsrf.jndi.BeanFactory</value>
                </parameter>
                <parameter>
                	<!-- Number of threads in the thread pool -->
                	<name>numThreads</name>
                	<value>1</value>
                </parameter>
            </resourceParams>
        </resource>
	</global>

	<!-- GlideinService -->
	<service name="glidein/GlideinService">
		<resource name="home" type="edu.usc.glidein.service.impl.GlideinResourceHome">
			<resourceParams>
				<parameter>
					<name>sweeperDelay</name>
					<value>60000</value>
				</parameter>
				<parameter>
					<name>resourceClass</name>
					<value>edu.usc.glidein.service.impl.GlideinResource</value>
				</parameter>
				<parameter>
					<name>resourceKeyType</name>
					<value>java.lang.Integer</value>
				</parameter>
				<parameter>
					<name>resourceKeyName</name>
					<value>{http://www.usc.edu/glidein/GlideinService}GlideinServiceKey</value>
				</parameter>
				<parameter>
					<name>factory</name>
					<value>org.globus.wsrf.jndi.BeanFactory</value>
				</parameter>
			</resourceParams>
		</resource>
	</service>
	
	<!-- GlideinFactoryService -->
	<service name="glidein/GlideinFactoryService">
		<resourceLink name="home" target="java:comp/env/services/glidein/GlideinService/home"/>
	</service>
	
	<!-- SiteService -->
	<service name="glidein/SiteService">
		<resource name="home" type="edu.usc.glidein.service.impl.SiteResourceHome">
			<resourceParams>
				<parameter>
					<name>sweeperDelay</name>
					<value>60000</value>
				</parameter>
				<parameter>
					<name>resourceClass</name>
					<value>edu.usc.glidein.service.impl.SiteResource</value>
				</parameter>
				<parameter>
					<name>resourceKeyType</name>
					<value>java.lang.Integer</value>
				</parameter>
				<parameter>
					<name>resourceKeyName</name>
					<value>{http://www.usc.edu/glidein/SiteService}SiteServiceKey</value>
				</parameter>
				<parameter>
					<name>factory</name>
					<value>org.globus.wsrf.jndi.BeanFactory</value>
				</parameter>
			</resourceParams>
		</resource>
	</service>
	
	<!-- SiteFactoryService -->
	<service name="glidein/SiteFactoryService">
		<resourceLink name="home" target="java:comp/env/services/glidein/SiteService/home"/>
	</service>

</jndiConfig>